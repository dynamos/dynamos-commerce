angular.module("ngCacheBuster",[]).config(["$httpProvider",function(t){return t.interceptors.push("httpRequestInterceptorCacheBuster")}]).provider("httpRequestInterceptorCacheBuster",function(){this.matchlist=[/.*partials.*/,/.*views.*/],this.logRequests=!1,this.black=!1,this.setMatchlist=function(t,e){this.black=void 0!==e&&e,this.matchlist=t},this.setLogRequests=function(t){this.logRequests=t},this.$get=["$q","$log",function(t,e){var r=this.matchlist,s=this.logRequests,i=this.black;return s&&e.log("Blacklist? ",i),{request:function(u){for(var h=!i,c=0;c<r.length;c++)if(u.url.match(r[c])){h=i;break}if(h){var l=new Date;u.url=u.url.replace(/[?|&]cacheBuster=\d+/,""),u.url+=u.url.indexOf("?")===-1?"?":"&",u.url+="cacheBuster="+l.getTime()}if(s){var n="request.url ="+u.url;h?e.warn(n):e.info(n)}return u||t.when(u)}}}]});